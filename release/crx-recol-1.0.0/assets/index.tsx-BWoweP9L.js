import{r,j as e,c as B}from"./client-BjeeCjb0.js";import{B as U,a as $,U as O}from"./events-BL2MARUn.js";import{M as _,E as D}from"./messages-CFBAHGQi.js";const Y='@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-space-y-reverse:0;--tw-border-style:solid;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-white:#fff;--spacing:.25rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wide:.025em;--radius-lg:.5rem;--radius-xl:.75rem;--shadow-md:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--shadow-lg:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.mt-1{margin-top:calc(var(--spacing)*1)}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-2{height:calc(var(--spacing)*2)}.w-2{width:calc(var(--spacing)*2)}.w-80{width:calc(var(--spacing)*80)}.animate-pulse{animation:var(--animate-pulse)}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-col{flex-direction:column}.items-baseline{align-items:baseline}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}:where(.space-y-1\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-red-500\\/30{border-color:#fb2c364d}@supports (color:color-mix(in lab,red,red)){.border-red-500\\/30{border-color:color-mix(in oklab,var(--color-red-500)30%,transparent)}}.bg-red-500\\/10{background-color:#fb2c361a}@supports (color:color-mix(in lab,red,red)){.bg-red-500\\/10{background-color:color-mix(in oklab,var(--color-red-500)10%,transparent)}}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.px-4{padding-inline:calc(var(--spacing)*4)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.pt-2{padding-top:calc(var(--spacing)*2)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.text-center{text-align:center}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[10px\\]{font-size:10px}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.text-red-400{color:var(--color-red-400)}.text-white\\/40{color:#fff6}@supports (color:color-mix(in lab,red,red)){.text-white\\/40{color:color-mix(in oklab,var(--color-white)40%,transparent)}}.uppercase{text-transform:uppercase}.italic{font-style:italic}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}}:host{--background:#101012fa;--background-glass:#14141866;--background-glass-hover:#1e1e2480;--foreground:#e7e7e7;--foreground-secondary:#fffc;--foreground-muted:#fff9;--secondary:#ffffff0d;--muted:#ffffff4d;--muted-background:#ffffff08;--border:#ffffff14;--border-hover:#ffffff1f;--border-focus:#6b5b9540;--shadow-sm:0 4px 12px #0000004d;--shadow-md:0 8px 32px #0006;--shadow-lg:0 12px 40px #00000080;color-scheme:dark;scrollbar-width:thin;scrollbar-color:#ffffff1a transparent;font-family:inter,system-ui,-apple-system,sans-serif}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:20px}::-webkit-scrollbar-thumb:hover{background:#fff3}.extension{pointer-events:auto;cursor:pointer;background:var(--background-glass);-webkit-backdrop-filter:blur(12px);border:1px solid var(--border);width:40px;height:40px;box-shadow:var(--shadow-md),inset 0 1px 0 var(--glass-highlight);border-radius:10px;justify-content:center;align-items:center;transition:all .2s cubic-bezier(.4,0,.2,1);display:flex}.extension:hover{background:var(--background-glass-hover);border-color:var(--border-hover);box-shadow:var(--shadow-lg),inset 0 1px 0 var(--glass-highlight-hover);transform:translateY(-1px)}.extension:active{transform:translateY(0)}.extension svg{width:20px;height:20px;color:var(--foreground-secondary);transition:color .2s}.extension:hover svg{color:var(--foreground)}.extension-popup{box-sizing:border-box!important;pointer-events:auto!important;z-index:2147483647!important;letter-spacing:normal!important;width:60vw!important;min-height:fit-content!important;margin-inline:auto!important;font-family:system-ui,-apple-system,sans-serif!important;line-height:normal!important;display:block!important;position:fixed!important;top:15vw!important;left:0!important;right:0!important}.search-input{color:#fff;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-sizing:border-box;background:#141418b3;border:1px solid #ffffff1a;border-radius:18px;outline:none;width:100%;height:56px;padding:0 20px;font-size:20px;transition:all .2s;box-shadow:0 8px 32px #0000004d}.search-input:focus{background:#ffffff0d;border-color:#fff3;box-shadow:0 8px 32px #0006}.search-input::placeholder{color:#ffffff4d}.save-dialog-overlay{z-index:2147483646;justify-content:center;align-items:center;display:flex;position:fixed;inset:0}.save-dialog{-webkit-backdrop-filter:blur(24px)saturate(180%);z-index:9999999;pointer-events:auto;background:#141418cc;border:1px solid #ffffff1a;border-radius:20px;flex-direction:column;gap:12px;width:280px;height:326px;padding:16px;animation:.15s cubic-bezier(.16,1,.3,1) fadeIn;display:flex;box-shadow:0 10px 40px #00000080,inset 0 0 0 1px #ffffff0d}.save-dialog-header{color:var(--foreground);letter-spacing:-.2px;padding:0 4px;font-size:14px;font-weight:600}.save-dialog-list{flex-direction:column;gap:4px;max-height:240px;padding-right:4px;display:flex;overflow-y:auto}.save-dialog-item-container{cursor:pointer;color:var(--foreground-secondary);border:1px solid #0000;border-radius:12px;justify-content:space-between;align-items:center;padding:10px 12px;font-size:14px;font-weight:400;transition:all .15s;display:flex;position:relative}.save-dialog-item-container:hover{color:var(--foreground);background:#ffffff0a;border-color:#ffffff0d}.save-dialog-item-container.active{color:var(--foreground);background:#ffffff14;border-color:#ffffff1a;font-weight:500;box-shadow:0 2px 8px #0003}.collection-item-actions{opacity:0;gap:4px;transition:opacity .15s;display:flex}.save-dialog-item-container:hover .collection-item-actions,.save-dialog-item-container.active .collection-item-actions{opacity:1}.collection-action-btn{all:unset;width:24px;height:24px;color:var(--foreground-muted);border-radius:6px;justify-content:center;align-items:center;transition:all .12s;display:flex}.collection-action-btn:hover{background:var(--secondary);color:var(--foreground)}.collection-action-btn.delete:hover{color:#ef4444;background:#ef44441a}.collection-rename-container{flex-direction:column;gap:4px;width:100%;display:flex}.collection-rename-input-container{align-items:center;gap:4px;width:100%;display:flex}.collection-rename-input{all:unset;color:var(--foreground);background:#ffffff0d;border:1px solid #ffffff1a;border-radius:6px;flex:1;padding:4px 8px;font-size:13px;transition:all .2s}.collection-rename-input.has-error{background:#ef444408;border-color:#ef444480}.collection-rename-error{color:#ef4444;padding-left:2px;font-size:10px;font-weight:500;animation:.15s ease-out fadeIn}.rename-action-btn{all:unset;cursor:pointer;border-radius:6px;justify-content:center;align-items:center;width:24px;height:24px;display:flex}.rename-action-btn.save{color:#10b981}.rename-action-btn.cancel{color:var(--foreground-muted)}.delete-confirmation-overlay{-webkit-backdrop-filter:blur(12px);z-index:50;background:#121216f0;border:1px solid #ef444426;border-radius:10px;justify-content:center;align-items:center;padding:0 12px;animation:.15s cubic-bezier(.16,1,.3,1) modalPop;display:flex;position:absolute;inset:2px;box-shadow:0 4px 20px #0006}.delete-confirmation-content p{color:var(--foreground-secondary);text-align:center;margin-bottom:10px;font-size:11px;font-weight:500;line-height:1.4}.delete-confirmation-actions{justify-content:center;gap:8px;display:flex}.delete-confirmation-actions button{all:unset;cursor:pointer;text-transform:uppercase;letter-spacing:.04em;border-radius:7px;padding:5px 14px;font-size:10px;font-weight:700;transition:all .2s cubic-bezier(.4,0,.2,1)}.delete-confirmation-actions .confirm-btn{color:#fff;background:#dc2626;box-shadow:0 2px 8px #dc262633}.delete-confirmation-actions .confirm-btn:hover{background:#ef4444;transform:translateY(-1px);box-shadow:0 4px 12px #ef44444d}.delete-confirmation-actions .cancel-btn{color:var(--foreground-muted);background:#ffffff0f;border:1px solid #ffffff0d}.delete-confirmation-actions .cancel-btn:hover{color:var(--foreground);background:#ffffff1a;border-color:#ffffff1a}@keyframes modalPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.save-dialog-footer{justify-content:flex-end;padding-top:4px;display:flex}.save-dialog-cancel{all:unset;color:var(--foreground-muted);cursor:pointer;font-size:12px}.save-dialog-cancel:hover{color:var(--foreground-secondary)}.save-dialog-add-toggle{all:unset;cursor:pointer;color:var(--foreground-muted);border-radius:10px;align-items:center;gap:8px;margin-top:4px;padding:8px 10px;font-size:13px;transition:all .12s;display:flex}.save-dialog-add-toggle:hover{background:var(--secondary);color:var(--foreground-secondary)}.save-dialog-add-input-container{background:var(--background-glass);border:1px solid var(--border);border-radius:10px;align-items:center;gap:6px;margin-top:4px;padding:4px 6px;transition:border-color .12s;display:flex}.save-dialog-add-input-container.has-error{border-color:#ef444480}.save-dialog-add-error{color:#ef4444;margin-top:2px;padding-left:8px;font-size:11px;animation:.12s ease-out fadeIn}.save-dialog-add-input{all:unset;color:var(--foreground);flex:1;padding:4px;font-size:13px}.save-dialog-add-actions{gap:4px;display:flex}.save-dialog-add-action-btn{all:unset;cursor:pointer;border-radius:6px;justify-content:center;align-items:center;width:24px;height:24px;transition:all .12s;display:flex}.save-dialog-add-action-btn.save{color:#10b981}.save-dialog-add-action-btn.save:hover{background:#10b9811a}.save-dialog-add-action-btn.cancel{color:var(--foreground-muted)}.save-dialog-add-action-btn.cancel:hover{background:var(--secondary)}.login-button{all:unset;background:var(--foreground);color:#000;cursor:pointer;box-shadow:var(--shadow-md);border-radius:12px;padding:12px 24px;font-size:14px;font-weight:600;transition:all .2s}.login-button:hover{box-shadow:var(--shadow-lg);opacity:.95;transform:translateY(-1px)}.search-results{-webkit-backdrop-filter:blur(24px)saturate(180%);background:#141418cc;border:1px solid #ffffff1a;border-radius:18px;flex-direction:column;max-height:480px;margin-top:12px;animation:.15s cubic-bezier(.16,1,.3,1) fadeIn;display:flex;overflow-y:auto;box-shadow:0 12px 48px #00000080}.search-result-item{cursor:pointer;border-bottom:1px solid #ffffff0d;flex-direction:column;gap:2px;padding:14px 18px;transition:all .15s;display:flex}.search-result-item:last-child{border-bottom:none}.search-result-item:hover,.search-result-item.active{background:#ffffff0d}.collection-tag{color:var(--foreground-muted);text-transform:uppercase;letter-spacing:.03em;white-space:nowrap;background:#ffffff0d;border:1px solid #ffffff1a;border-radius:4px;align-items:center;padding:2px 6px;font-size:10px;font-weight:600;display:inline-flex}.search-result-actions{opacity:0;align-items:center;gap:8px;transition:opacity .15s;display:flex}.search-result-item:hover .search-result-actions,.search-result-item.active .search-result-actions{opacity:1}.delete-btn{all:unset;width:24px;height:24px;color:var(--foreground-muted);cursor:pointer;border-radius:6px;justify-content:center;align-items:center;transition:all .15s;display:flex}.delete-btn:hover{color:#ef4444;background:#ef44441a}.search-result-item.active{background:#ffffff14}@keyframes fadeIn{0%{opacity:0;transform:scale(.98)translateY(4px)}to{opacity:1;transform:scale(1)translateY(0)}}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@keyframes pulse{50%{opacity:.5}}';function W(){const t=document.createElement("div");t.id="recol-extension-root",t.style.all="initial",t.style.fontFamily="inter, sans-serif",document.body.appendChild(t);const o=t.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=Y,o.appendChild(i);const n=document.createElement("div");return n.id="recol-root",n.style.position="fixed",n.style.top="20px",n.style.right="20px",n.style.zIndex="2147483647",n.style.pointerEvents="none",o.appendChild(n),n}function Q(){chrome.runtime.onMessage.addListener((t,o,i)=>{console.log("[Content:Service] Message received:",t.action);const n=[U.openDialog,U.toggleSearchMode,U.openAuthTab,U.showUpgradePrompt];for(const s of n){const a=$[s];if(t.action===a.action)return window.dispatchEvent(new CustomEvent(a.clientEvent,{detail:t})),i({success:!0,action:t.action}),!0}return!0})}function Z({onToggleDialog:t,onToggleSearch:o,onEscape:i}){r.useEffect(()=>{const n=l=>{l.key==="Escape"&&i()},s=l=>{t(l.detail?.data)},a=l=>{o(l.detail?.data)};return window.addEventListener(O.TOGGLE_DIALOG,s),window.addEventListener(O.TOGGLE_SEARCH_MODE,a),window.addEventListener("keydown",n),()=>{window.removeEventListener(O.TOGGLE_DIALOG,s),window.removeEventListener(O.TOGGLE_SEARCH_MODE,a),window.removeEventListener("keydown",n)}},[t,o,i])}const q=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,i,n)=>n?n.toUpperCase():i.toLowerCase()),H=t=>{const o=X(t);return o.charAt(0).toUpperCase()+o.slice(1)},V=(...t)=>t.filter((o,i,n)=>!!o&&o.trim()!==""&&n.indexOf(o)===i).join(" ").trim(),J=t=>{for(const o in t)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};var ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const te=r.forwardRef(({color:t="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:l,...g},m)=>r.createElement("svg",{ref:m,...ee,width:o,height:o,stroke:t,strokeWidth:n?Number(i)*24/Number(o):i,className:V("lucide",s),...!a&&!J(g)&&{"aria-hidden":"true"},...g},[...l.map(([C,L])=>r.createElement(C,L)),...Array.isArray(a)?a:[a]]));const T=(t,o)=>{const i=r.forwardRef(({className:n,...s},a)=>r.createElement(te,{ref:a,iconNode:o,className:V(`lucide-${q(H(t))}`,`lucide-${t}`,n),...s}));return i.displayName=H(t),i};const oe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ne=T("bookmark",oe);const ie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],G=T("check",ie);const re=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ae=T("crown",re);const se=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],le=T("pencil",se);const ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],de=T("plus",ce);const pe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fe=T("trash-2",pe);const ue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K=T("x",ue);function he({show:t,onClick:o}){return t?e.jsx("div",{className:"extension",onClick:o,children:e.jsx(ne,{})}):null}const ge=({results:t,onClose:o,onDelete:i,activeIndex:n})=>{const s=t.length>10,a=r.useRef(null);return r.useEffect(()=>{a.current&&a.current.scrollIntoView({block:"nearest",behavior:"smooth"})},[n]),t.length===0?e.jsx("div",{className:"p-4 text-center text-white/40 text-sm font-medium",children:"No results found"}):(console.log("Rendering results:",t),e.jsxs("div",{className:"search-results ",children:[e.jsx("div",{className:"flex flex-col",children:t.map((l,g)=>e.jsx(me,{active:g===n,activeRef:g===n?a:null,result:l,onClose:o,onDelete:i},l.id))}),s&&e.jsxs("div",{style:{padding:"10px 16px",fontSize:"12px",color:"var(--foreground-muted)",textAlign:"center",borderTop:"1px solid var(--border)",backgroundColor:"rgba(255, 255, 255, 0.02)",fontStyle:"italic"},children:["+",t.length-10," more results found..."]})]}))};function me({result:t,onClose:o,onDelete:i,active:n,activeRef:s}){return e.jsxs("div",{ref:s,onClick:()=>{window.open(t.url,"_blank"),o()},className:`search-result-item ${n?"active":""}`,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",width:"100%"},children:[e.jsx("div",{style:{color:"var(--foreground)",fontWeight:600,fontSize:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:t.title}),t.collectionName&&e.jsx("span",{className:"collection-tag",children:t.collectionName}),e.jsx("div",{className:"search-result-actions",children:e.jsx("button",{className:"delete-btn",title:"Delete (Cmd+Backsp)",onClick:a=>{a.stopPropagation(),i(t.id)},children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})})})})]}),e.jsx("div",{style:{color:"var(--foreground-muted)",fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.url})]},t.id)}const xe=({open:t,onClose:o})=>{const[i,n]=r.useState(""),[s,a]=r.useState([]),[l,g]=r.useState(0),m=r.useRef(0);function C(b){m.current=b,g(b)}function L(b){chrome.runtime.sendMessage({action:_.DELETE_LINK,linkId:b},k=>{k?.success&&a(c=>{const E=c.filter(z=>z.id!==b);return m.current>=E.length&&E.length>0&&C(E.length-1),E})})}r.useEffect(()=>{if(m.current=0,!i.trim()){a([]);return}const b=setTimeout(()=>{chrome.runtime.sendMessage({action:_.SEARCH,query:i},k=>{k?.results&&a(k.results)})},50);return()=>clearTimeout(b)},[i]);const x=s.slice(0,10);if(r.useEffect(()=>{const b=c=>{c.composedPath().some(I=>I instanceof HTMLElement&&I.closest(".extension-popup"))||(c.stopImmediatePropagation(),o())},k=c=>{const E=c.composedPath();if(!E.some(f=>f instanceof HTMLElement&&f.closest(".extension-popup")))return;const I=E.some(f=>f instanceof HTMLInputElement||f.tagName==="INPUT");if(c.key==="Escape"){c.stopImmediatePropagation(),c.preventDefault(),o();return}if(c.key==="ArrowDown"){if(x.length===0)return;c.stopImmediatePropagation(),c.preventDefault();const f=(m.current+1)%x.length;C(f);return}if(c.key==="ArrowUp"){if(x.length===0)return;c.stopImmediatePropagation(),c.preventDefault();const f=(m.current-1+x.length)%x.length;C(f);return}if(c.key==="Enter"){if(x.length===0)return;c.stopImmediatePropagation(),c.preventDefault();const f=x[m.current];f&&(window.open(f.url,"_blank"),o());return}if(c.key==="Delete"){if(I||x.length===0)return;c.stopImmediatePropagation(),c.preventDefault();const f=x[m.current];f&&(console.log("Deleting link with id:",f.id),L(f.id));return}};return t&&(window.addEventListener("mousedown",b,!0),window.addEventListener("keydown",k,!0)),()=>{window.removeEventListener("mousedown",b,!0),window.removeEventListener("keydown",k,!0)}},[t,o,x]),r.useEffect(()=>{C(0)},[i]),!t)return null;function N(b){b.stopPropagation(),n(b.target.value)}function w(b){b.key.length===1&&b.stopPropagation()}return e.jsxs("div",{className:"extension-popup p-2 rounded-xl",children:[e.jsx("input",{className:"search-input",placeholder:"Search...",value:i,onChange:N,onKeyDown:w,autoFocus:!0}),e.jsx(ge,{results:x,onClose:o,onDelete:L,activeIndex:l})]})};function be({isOpen:t,onClose:o}){return e.jsx(xe,{open:t,onClose:o})}function we(t,o,i,n){const[s,a]=r.useState([]),[l,g]=r.useState(null),[m,C]=r.useState(!1),[L,x]=r.useState(""),[N,w]=r.useState(n||null),[b,k]=r.useState(!1),[c,E]=r.useState(""),[z,I]=r.useState(null),[f,R]=r.useState(null);r.useEffect(()=>{n&&w(n)},[n]);const S=r.useCallback(async()=>{try{const h=await chrome.runtime.sendMessage({action:_.GET_COLLECTIONS});if(h?.collections)return a(h.collections),h.collections}catch{}return[]},[]);return r.useEffect(()=>{t||(w(null),C(!1),x(""),I(null),R(null))},[t]),r.useEffect(()=>{m||(w(null),x(""))},[m]),r.useEffect(()=>{if(!t)return;(async()=>(k(!0),a(c?s.filter(d=>d.name.toLowerCase().includes(c.toLowerCase())):await S())))()},[c]),r.useEffect(()=>{t&&(async()=>{k(!0);const d=await S();let y=null;if(o){const{link:j}=await chrome.runtime.sendMessage({action:_.GET_LINK,linkId:o});j&&(y=d.find(A=>A.id===j.collectionId)||null)}!y&&d.length>0&&(y=d.find(j=>j.name.toLowerCase()==="others")||d[0]),g(y),k(!1)})()},[t,o,S]),{collections:s,activeHover:l,setActiveHover:g,isAdding:m,setIsAdding:C,newColName:L,setNewColName:x,error:N,setError:w,isLoading:b,handleSelect:async h=>{if(!o){i?.();return}try{const d=await chrome.runtime.sendMessage({action:_.UPDATE_LINK_COLLECTION,linkId:o,collection:h});d?.success?console.log("[UI:Logic] Successfully updated link collection"):console.error("[UI:Logic] Failed to update link collection:",d?.error)}catch(d){console.error("[UI:Logic] Error during selection:",d)}finally{i?.()}},handleAddCollection:async()=>{const h=L.trim();if(h){if(s.some(d=>d.name.toLowerCase()===h.toLowerCase())){w("Name already exists");return}try{w(null);const d=self.crypto.randomUUID(),y=await chrome.runtime.sendMessage({action:_.CREATE_COLLECTION,id:d,name:h});y?.success?(await S(),x(""),C(!1)):y?.error===D.LIMIT_REACHED?w(D.SUBSCRIPTION_REQUIRED):y?.error===D.DEVICE_LIMIT_REACHED?w(D.DEVICE_LIMIT_REACHED):w(y?.error||"Failed to create collection")}catch(d){console.error("[UI:Logic] Error adding collection:",d),w("Sync error")}}},handleDeleteCollection:async h=>{try{(await chrome.runtime.sendMessage({action:_.DELETE_COLLECTION,id:h}))?.success&&(a(y=>y.filter(j=>j.id!==h)),l?.id===h&&g(null))}catch{w("Failed to delete collection")}},handleRenameCollection:async(h,d)=>{try{(await chrome.runtime.sendMessage({action:_.RENAME_COLLECTION,id:h,name:d}))?.success&&a(j=>j.map(A=>A.id===h?{...A,name:d}:A))}catch{w("Failed to rename collection")}},moveSelection:h=>{m||s.length===0||g(d=>{if(!d)return s[0];const y=s.findIndex(j=>j.id===d.id);if(h==="up"){const j=y-1<0?s.length-1:y-1;return s[j]}else{const j=(y+1)%s.length;return s[j]}})},searchCollection:c,setSearchCollection:E,renamingId:z,setRenamingId:I,confirmDeleteId:f,setConfirmDeleteId:R}}function ve({error:t,onCancel:o,className:i,style:n}){if(t!==D.SUBSCRIPTION_REQUIRED&&t!==D.DEVICE_LIMIT_REACHED&&t!==D.LIMIT_REACHED)return null;const s=t===D.DEVICE_LIMIT_REACHED,a=t===D.LIMIT_REACHED;let l="3 Collections Max",g="You've reached the free limit. Upgrade to Pro to create unlimited collections!";return s?(l="Device Limit Reached",g="You've reached the maximum number of devices. Upgrade to Pro for more!"):a&&(l="Link Limit Reached",g="You've reached the 100 links limit. Upgrade to Pro for unlimited links!"),e.jsxs("div",{className:i,style:{padding:"20px 16px",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(255, 215, 0, 0.02) 100%)",border:"1px solid rgba(255, 215, 0, 0.25)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4), inset 0 0 0 1px rgba(255, 215, 0, 0.1)",position:"relative",overflow:"hidden",...n},children:[e.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"60px",height:"60px",background:"rgba(255, 215, 0, 0.1)",filter:"blur(20px)",borderRadius:"50%"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[e.jsx("div",{style:{background:"rgba(255, 215, 0, 0.1)",padding:"6px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ae,{size:20,color:"#FFD700",fill:"rgba(255, 215, 0, 0.2)"})}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"700",color:"#FFD700",letterSpacing:"0.2px"},children:l})]}),e.jsx("p",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.8)",marginBottom:"20px",lineHeight:"1.5"},children:g}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>window.open("https://your-app.com/pricing","_blank"),className:"upgrade-btn-premium",style:{flex:1,padding:"10px 16px",background:"#FFD700",color:"#000",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"750",cursor:"pointer",boxShadow:"0 4px 12px rgba(255, 215, 0, 0.2)",transition:"all 0.2s ease"},children:"Upgrade Now"}),e.jsx("button",{onClick:o,style:{padding:"10px 16px",background:"rgba(255,255,255,0.03)",color:"rgba(255,255,255,0.6)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"10px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:"Later"})]})]})}function ye({value:t,onChange:o,onSave:i,onCancel:n,error:s}){const a=r.useRef(null);return r.useEffect(()=>{a.current?.focus()},[]),s===D.SUBSCRIPTION_REQUIRED||s===D.DEVICE_LIMIT_REACHED?e.jsx(ve,{error:s,onCancel:n}):e.jsxs("div",{className:"save-dialog-add-container",children:[e.jsxs("div",{className:`save-dialog-add-input-container ${s?"has-error":""}`,children:[e.jsx("input",{ref:a,type:"text",className:"save-dialog-add-input",placeholder:"Name...",value:t,onChange:l=>o(l.target.value),onKeyDown:l=>{l.stopPropagation(),console.log("Key pressed in AddCollectionForm input:",l.key),l.key==="Enter"&&i()}}),e.jsxs("div",{className:"save-dialog-add-actions",children:[e.jsx("button",{className:"save-dialog-add-action-btn save",onClick:i,children:e.jsx(G,{size:14})}),e.jsx("button",{className:"save-dialog-add-action-btn cancel",onClick:n,children:e.jsx(K,{size:14})})]})]}),s&&e.jsx("div",{className:"save-dialog-add-error",children:s})]})}function ke({collections:t,activeHover:o,onSelect:i,onHover:n,onDelete:s,onRename:a,isAdding:l,onAddToggle:g,newColName:m,onNameChange:C,onAddSave:L,error:x,renamingId:N,onRenamingIdChange:w,confirmDeleteId:b,onConfirmDeleteIdChange:k}){const c=r.useRef(null),[E,z]=r.useState(""),[I,f]=r.useState(null);r.useEffect(()=>{o&&c.current&&c.current.scrollIntoView({block:"nearest",behavior:"smooth"})},[o]);const R=(p,u)=>{p.stopPropagation(),w(u.id),z(u.name),f(null)},S=(p,u)=>{p?.stopPropagation();const v=u||N;if(!v)return;const M=E.trim();if(!M){f("Name cannot be empty");return}if(t.some(d=>d.name.toLowerCase()===M.toLowerCase()&&d.id!==v)){f("Collection already exists");return}a(v,M),w(null),f(null)},P=(p,u)=>{p.stopPropagation(),k(u)};return e.jsxs("div",{className:"save-dialog-list",children:[t.map(p=>e.jsxs("div",{ref:o?.id===p.id?c:null,className:`save-dialog-item-container ${o?.id===p.id?"active":""}`,onMouseEnter:()=>n(p),onClick:()=>!N&&i(p),children:[N===p.id?e.jsxs("div",{className:"collection-rename-container",children:[e.jsxs("div",{className:"collection-rename-input-container",children:[e.jsx("input",{autoFocus:!0,className:`collection-rename-input ${I?"has-error":""}`,value:E,onChange:u=>{z(u.target.value),I&&f(null)},onClick:u=>u.stopPropagation(),onKeyDown:u=>{u.stopPropagation(),u.key==="Enter"&&S()}}),e.jsx("button",{className:"rename-action-btn save",onClick:u=>S(u,p.id),children:e.jsx(G,{size:12})}),e.jsx("button",{className:"rename-action-btn cancel",onClick:u=>{u.stopPropagation(),w(null)},children:e.jsx(K,{size:12})})]}),I&&e.jsx("div",{className:"collection-rename-error",children:I})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"collection-name",children:p.name}),e.jsxs("div",{className:"collection-item-actions",children:[e.jsx("button",{className:"collection-action-btn rename",onClick:u=>R(u,p),children:e.jsx(le,{size:12})}),e.jsx("button",{className:"collection-action-btn delete",onClick:u=>P(u,p.id),children:e.jsx(fe,{size:12})})]})]}),b===p.id&&e.jsx("div",{className:"delete-confirmation-overlay",onClick:u=>u.stopPropagation(),children:e.jsxs("div",{className:"delete-confirmation-content",children:[e.jsxs("p",{children:["Delete ",e.jsx("b",{children:p.name})," and its links?"]}),e.jsxs("div",{className:"delete-confirmation-actions",children:[e.jsx("button",{className:"confirm-btn",onClick:()=>{s(p.id),k(null)},children:"Delete"}),e.jsx("button",{className:"cancel-btn",onClick:()=>k(null),children:"Cancel"})]})]})})]},p.id)),l?e.jsx(ye,{value:m,onChange:C,onSave:L,onCancel:()=>g(!1),error:x}):e.jsxs("button",{className:"save-dialog-add-toggle",onClick:()=>g(!0),children:[e.jsx(de,{size:14}),e.jsx("span",{children:"Add collection"})]}),t.length===0&&!l&&e.jsx("div",{style:{textAlign:"center",fontSize:"11px",color:"var(--foreground-muted)"},children:"No collections found"})]})}function Ee({open:t,linkId:o,initialError:i,onClose:n}){const{collections:s,activeHover:a,setActiveHover:l,isAdding:g,setIsAdding:m,newColName:C,setNewColName:L,error:x,setError:N,handleSelect:w,handleAddCollection:b,handleDeleteCollection:k,handleRenameCollection:c,moveSelection:E,searchCollection:z,setSearchCollection:I,renamingId:f,setRenamingId:R,confirmDeleteId:S,setConfirmDeleteId:P}=we(t,o,n,i);return r.useEffect(()=>{if(!t)return;const p=v=>{const M=v.composedPath(),h=M[0]||v.target;if(!M.some(F=>F instanceof HTMLElement&&(F.closest(".save-dialog")||F.classList.contains("save-dialog-overlay"))))return;const y=h.classList.contains("collection-rename-input"),j=h.classList.contains("save-dialog-add-input"),A=y||j;if(!(A&&v.key==="Enter")){if(["Escape","ArrowDown","ArrowUp","Enter"].includes(v.key)&&v.stopImmediatePropagation(),v.key==="Escape"){if(v.preventDefault(),S){P(null);return}if(f){R(null);return}if(g){m(!1);return}if(x){N(null);return}n();return}if(!A){if(v.key==="Enter"){v.preventDefault(),a&&w(a);return}if(v.key==="ArrowUp"){v.preventDefault(),E("up");return}if(v.key==="ArrowDown"){v.preventDefault(),E("down");return}}}},u=v=>{v.stopImmediatePropagation(),v.composedPath().some(d=>d instanceof HTMLElement&&d.closest(".save-dialog"))||n()};return window.addEventListener("keydown",p,!0),window.addEventListener("mousedown",u,!0),()=>{window.removeEventListener("keydown",p,!0),window.removeEventListener("mousedown",u,!0)}},[t,g,a,E,b,w,n,m,S,P,f,R,x,N]),t?e.jsx("div",{className:"save-dialog-overlay",children:e.jsx("div",{className:"save-dialog",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"save-dialog-header",children:e.jsx("input",{className:"collection-search-input",placeholder:"search collection",value:z,onChange:p=>I(p.target.value),onKeyDown:p=>p.stopPropagation(),style:{width:"100%",padding:"8px 12px",fontSize:"14px",border:"1px solid var(--border)",borderRadius:"8px",backgroundColor:"var(--background-secondary)",color:"var(--foreground)",outline:"none",boxSizing:"border-box"},autoFocus:!0})}),e.jsx(ke,{collections:s,activeHover:a,onSelect:w,onHover:l,onDelete:k,onRename:c,isAdding:g,onAddToggle:m,newColName:C,onNameChange:p=>{L(p),x&&N(null)},onAddSave:b,error:x,renamingId:f,onRenamingIdChange:R,confirmDeleteId:S,onConfirmDeleteIdChange:P}),e.jsx("div",{className:"save-dialog-footer",children:e.jsx("button",{className:"save-dialog-cancel",onClick:n,children:"Cancel"})})]})})}):null}function Ce({isOpen:t,linkId:o,error:i,onClose:n}){return e.jsx(Ee,{open:t,linkId:o,initialError:i,onClose:n})}function je(){const[t,o]=r.useState("none"),[i,n]=r.useState({}),s=r.useCallback(m=>{m?.linkId?(n(m),o("save")):o(C=>C==="save"?"none":"save")},[]),a=r.useCallback(()=>{o(m=>m==="search"?"none":"search")},[]),l=r.useCallback(()=>{o("none")},[]);Z({onToggleDialog:s,onToggleSearch:a,onEscape:l});const g=t!=="none";return e.jsxs(e.Fragment,{children:[e.jsx(he,{show:!g,onClick:()=>o("search")}),e.jsx(be,{isOpen:t==="search",onClose:()=>o("none")}),e.jsx(Ce,{isOpen:t==="save",linkId:i.linkId,error:i.error,onClose:()=>o("none")})]})}Q();const Ie=W();B.createRoot(Ie).render(e.jsx(r.StrictMode,{children:e.jsx(je,{})}));
